<!DOCTYPE html>
<html>
  <head>
    <title>Lightbox JSON API</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href="/static/lightbox.css" rel="stylesheet">
    <link href="/static/jquery-ui-1.10.3.custom.css" rel="stylesheet">
  </head>
  <body class="dark">
    <script src="/static/jquery-1.9.1.min.js"></script>
    <script src="/static/jquery.lightbox_me.js"></script>
    <script src="/static/jquery.throttle.min.js"></script>
    <script src="/static/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="/static/colorpicker-r54.js"></script>
    <script src="/static/lightbox.js"></script>
    <header>
      <h1>Lightbox JSON API</h1>
      <button class="theme-toggle">Toggle theme</button>
    </header>
    <p>Lightbox was originally developed for the <a href="http://twitterboom.nl">Twitterboom</a>, which was demonstrated to the public during the Christmas season of 2011 in the public library of Leeuwarden, the hometown of <a href="http://frack.nl/wiki/">Frack</a>.</p>
    <p>All code and documentation is <a href="https://github.com/frack/Lightbox">available on GitHub</a>.</p>
    <h2>Lightbox live view</h2>
    <p>Basic jQuery/JavaScript retrieval for the current colors on the strip.</p>
    <div id="preview">
      <div class="output">
        <h3>Output 1</h3>
        <div class="mixed-container">
          <div class="mixed smoothed"></div>
          mixed
        </div>
        <ol class="layers">
          <li class="layer">
            <div class="color-container">
              <div class="color maxheight smoothed"></div>
            </div>
            <span class="blender"></span>
            <span class="opacity"></span>
          </li>
        </ol>
      </div>
    </div>
    <div id="picker-popup" style="display: none">
      <div class="modal-close close"></div>
      <div class="modal-header">
        <h4>Transition to new color</h4>
      </div>
      <div class="modal-content">
        <div id="picker"></div>
        <div class="preview">
          <div class="color-container">
            <div class="color maxheight"></div>
          </div>
          <div class="color-container">
            <div class="color maxheight opacity"></div>
          </div>
        </div>
        <div class="sliders">
          <h5>Opacity slider [<span id="opacity-value"></span>]</h5>
          <div class="slider" id="opacity-slider"></div>
          <h5>Steps  [<span id="steps-value"></span>]</h5>
          <div class="slider" id="steps-slider"></div>
        </div>
        <div class="options">
          <h5>Layer blender</h5>
          <select id="blender">
            <option value="dummy">Dummy</option>
          </select>
          <h5>Trans. envelope</h5>
          <select id="envelope">
            <option value="dummy">Dummy</option>
          </select>
        </div>
        <div class="bottomrow">
          <input type="checkbox" id="update-immediate"><label for="update-immediate">Immediately apply color on change</label><br>
          <input type="checkbox" id="update-queued" checked="checked"><label for="update-queued">New transitions queue after current</label>
        </div>
        <button class="submit">Apply</button>
      </div>
    </div>
    <h2>API Information</h2>
    <ul>
      <li>API commands should be sent to <code>/api</code> (JSON body, content-type <code>application/json</code>);</li>
      <li>Controller information can be retrieved from <a href="/api"><code>/api</code></a>;</li>
      <li>Output information (mixed and layer colors, opacity etc) can be retrieved from <a href="/api/outputs"><code>/api/outputs</code></a>.</li>
    </ul>
  </body>
</html>
