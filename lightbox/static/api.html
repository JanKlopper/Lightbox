<!DOCTYPE html>
<html>
  <head>
    <title>Lightbox JSON API</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link type="text/css" rel="stylesheet" media="screen" href="/static/lightbox.css" />
  </head>
  <body>
    <script src="/static/jquery-1.9.1.min.js"></script>
    <script src="/static/jquery.lightbox_me.js"></script>
    <script src="/static/colorpicker-r54.js"></script>
    <script src="/static/lightbox.js"></script>
    <h1>Lightbox JSON API</h1>
    <p>Lightbox was originally developed for the <a href="http://twitterboom.nl">Twitterboom</a>, which was demonstrated to the public during the Christmas season of 2011 in the public library of Leeuwarden, the hometown of <a href="http://frack.nl/wiki/">Frack</a>.</p>
    <p>All code and documentation is <a href="https://github.com/frack/Lightbox">available on GitHub</a>.</p>
    <h2>Lightbox live view</h2>
    <p>Basic jQuery/JavaScript retrieval for the current colors on the strip.</p>
    <div id="preview">
      <div class="output">
        <strong>Output 42</strong>
        <div class="mixed"></div>
        <ol class="layers">
          <li class="layer">
            <div class="color"></div>
            <ul>
              <li>Opacity: <span class="opacity"></span>%</li>
              <li class="blender"></li>
              <li class="envelope"></li>
            </ul>
          </li>
        </ol>
      </div>
    </div>
    <div id="channel_popup" style="display: none">
      <div id="picker"></div>
      <div id="tinybox"></div>
    </div>
    <button id="clicker">New color!</button>
    <h2>API Information</h2>
    <ul>
      <li>API commands should be sent to <code>/api</code> (HTTP POST, argument <code>json</code>);</li>
      <li>Controller information can be retrieved from <a href="/api"><code>/api</code></a>;</li>
      <li>Output information (mixed and layer colors, opacity etc) can be retrieved from <a href="/api/outputs"><code>/api/outputs</code></a>.</li>
    </ul>
    <h2>Send API commands</h2>
    <p>API commands can be one object that describes a transition for a single output+layer, or an array of these.</p>
    <p>Multiple transitions for a single output will be executed in series, multiple transitions for different outputs will be excecuted in unison.</p>
    <form action="/" method="post">
      <textarea name="json" cols="80" rows="20"></textarea>
      <br>
      <input type="submit" value="push!" />
    </form>
  </body>
</html>
