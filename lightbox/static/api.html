<!DOCTYPE html>
<html>
  <head>
    <title>Lightbox JSON API</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href="/static/lightbox.css" rel="stylesheet">
    <link href="/static/jquery-ui-1.10.3.custom.css" rel="stylesheet">
  </head>
  <body>
    <script src="/static/jquery-1.9.1.min.js"></script>
    <script src="/static/jquery.lightbox_me.js"></script>
    <script src="/static/jquery.throttle.min.js"></script>
    <script src="/static/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="/static/colorpicker-r54.js"></script>
    <script src="/static/lightbox.js"></script>
    <h1>Lightbox JSON API</h1>
    <p>Lightbox was originally developed for the <a href="http://twitterboom.nl">Twitterboom</a>, which was demonstrated to the public during the Christmas season of 2011 in the public library of Leeuwarden, the hometown of <a href="http://frack.nl/wiki/">Frack</a>.</p>
    <p>All code and documentation is <a href="https://github.com/frack/Lightbox">available on GitHub</a>.</p>
    <h2>Lightbox live view</h2>
    <p>Basic jQuery/JavaScript retrieval for the current colors on the strip.</p>
    <div id="preview">
      <div class="output">
        <strong>Output 42</strong>
        <div class="mixed smoothed"></div>
        <ol class="layers">
          <li class="layer">
            <div class="colorContainer">
              <div class="color smoothed"></div>
            </div>
            <ul>
              <li>Opacity: <span class="opacity"></span>%</li>
              <li class="blender"></li>
              <li class="envelope"></li>
            </ul>
          </li>
        </ol>
      </div>
    </div>
    <div id="picker_popup" style="display: none">
      <div class="modal_close close"></div>
      <div class="modal_header">
        <h3>Transition to new color</h3>
      </div>
      <div class="modal_content">
        <div id="picker"></div>
        <div class="preview">
          <div class="colorContainer">
            <div class="color"></div>
          </div>
          <div class="colorContainer">
            <div class="color opacity"></div>
          </div>
        </div>
        <div class="sliders">
          <h4>Opacity slider [<span id="opacityValue"></span>]</h4>
          <div class="slider" id="opacitySlider"></div>
          <h4>Steps  [<span id="stepsValue"></span>]</h4>
          <div class="slider" id="stepsSlider"></div>
        </div>
        <div class="options">
          <h4>Layer blender</h4>
          <select id="blender">
            <option value="dummy">Dummy</option>
          </select>
          <h4>Trans. envelope</h4>
          <select id="envelope">
            <option value="dummy">Dummy</option>
          </select>
        </div>
        <div class="bottomrow">
          <input type="checkbox" id="updateImmediate"><label for="updateImmediate">Immediately apply color on change</label><br>
          <input type="checkbox" id="updateQueued" checked="checked"><label for="updateQueued">New transitions queue after current</label>
        </div>
        <input class="submit" type="submit" value="Apply" />
      </div>
    </div>
    <h2>API Information</h2>
    <ul>
      <li>API commands should be sent to <code>/api</code> (JSON body, content-type <code>application/json</code>);</li>
      <li>Controller information can be retrieved from <a href="/api"><code>/api</code></a>;</li>
      <li>Output information (mixed and layer colors, opacity etc) can be retrieved from <a href="/api/outputs"><code>/api/outputs</code></a>.</li>
    </ul>
  </body>
</html>
